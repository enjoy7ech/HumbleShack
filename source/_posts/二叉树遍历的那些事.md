---
title: äºŒå‰æ ‘çš„é‚£äº›äº‹
date: 2024-03-13 15:07:33
tags: [æ•°æ®ç»“æ„, ç®—æ³•, äºŒå‰æ ‘]
categories: ç®—æ³•ä¹‹è·¯
keywords: æ•°æ®ç»“æ„,äºŒå‰æ ‘,dfs,bfs
description: ä¸€æ–‡å…¨æ’¸äºŒå‰æ ‘
thumbnail: https://pan.dongzx.lol/api/v4/file/content/pvecD/0/istockphoto-1494229585-1024x1024.jpg?sign=zTERHYnyNBNeVkzUYKWCSnQac6KA2w6SFz9hzcdTgaY%3D%3A0
top_img: https://pan.dongzx.lol/api/v4/file/content/pvecD/0/istockphoto-1494229585-1024x1024.jpg?sign=zTERHYnyNBNeVkzUYKWCSnQac6KA2w6SFz9hzcdTgaY%3D%3A0
cover: https://pan.dongzx.lol/api/v4/file/content/pvecD/0/istockphoto-1494229585-1024x1024.jpg?sign=zTERHYnyNBNeVkzUYKWCSnQac6KA2w6SFz9hzcdTgaY%3D%3A0
excerpt: è®°å½•ä¸‹äºŒå‰æ ‘çš„å„ç§çŸ¥è¯†
---

å‡ºæ¥æ··æ€»æ˜¯è¦è¿˜çš„ï¼Œä»¥å‰ç®—æ³•è¯¾ç¡è§‰æµçš„å£æ°´ï¼Œå¦‚ä»Šå˜æˆäº†çœ¼è§’çš„æ³ªã€‚å­¦ç”Ÿå¥½å¥½å­¦ä¹ æ¯”ä»€ä¹ˆéƒ½é‡è¦ ğŸ˜­ğŸ˜­ã€‚

## äºŒå‰æ ‘ (Binary tree)

åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒäºŒå‰æ ‘ï¼ˆè‹±è¯­ï¼šBinary treeï¼‰æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³ä¸å­˜åœ¨åˆ†æ”¯åº¦å¤§äº 2 çš„èŠ‚ç‚¹ï¼‰çš„æ ‘ç»“æ„ã€‚é€šå¸¸åˆ†æ”¯è¢«ç§°ä½œâ€œå·¦å­æ ‘â€æˆ–â€œå³å­æ ‘â€ã€‚äºŒå‰æ ‘çš„åˆ†æ”¯å…·æœ‰å·¦å³æ¬¡åºï¼Œä¸èƒ½éšæ„é¢ å€’ã€‚

äºŒå‰æ ‘çš„éå†ä¸»è¦æœ‰`æ·±åº¦ä¼˜å…ˆ`ã€`å¹¿åº¦ä¼˜å…ˆ`ä¸¤ç±»ã€‚æ·±åº¦ä¼˜å…ˆæ ¹æ®å­èŠ‚ç‚¹çš„è®¿é—®é¡ºåºåˆåˆ†ä¸ºå‰åºéå†ï¼Œä¸­åºéå†å’Œååºéå†ã€‚è§ä¸‹è¡¨

| éå†æ–¹æ³• | éå†é¡ºåº     | éå†å›¾                                                                                                                                            | å¤‡æ³¨                                                                         |
| -------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| å‰åº     | æ ¹ â†’ å·¦ â†’ å³ | <img src="https://pan.dongzx.lol/api/v4/file/content/ye7Co/0/Pre-Order.png?sign=I4pi-SnWIHR_B51g6tFSOxDY9SwBfqHmh0YAlIMT7Ww%3D%3A0" width="100px" />     | å‰åºéå†å¯¹å½“å‰èŠ‚ç‚¹æœ‰ç€æœ€é«˜çš„å¤„ç†ä¼˜å…ˆçº§ï¼Œèƒ½åœ¨å‰åºå¤„ç†æ‰çš„é€»è¾‘å°½é‡æ”¾åœ¨å‰åºå¤„ç† |
| ä¸­åº     | å·¦ â†’ æ ¹ â†’ å³ | <img src="https://pan.dongzx.lol/api/v4/file/content/ZXZC3/0/In-Order.png?sign=IFneoZhdZdu6ECdH_kqD2tU2GbkfHD5dxfB3mKWDLcE%3D%3A0" width="100px" />      | ä¸­åºéå†åœ¨äºŒåˆ†æœç´¢æ ‘ BST ä¸­æœ‰ç”¨                                              |
| ååº     | å·¦ â†’ å³ â†’ æ ¹ | <img src="https://pan.dongzx.lol/api/v4/file/content/d2MUG/0/Post-Order.png?sign=hTDKT0X_HLhn6vpNvpwNnKPXFrv08poSG-mmXdDOIvc%3D%3A0" width="100px" />    | ååºéå†æ˜¯å·¦å³èŠ‚ç‚¹å·²ç»éå†å®Œå†è¿›è¡Œçš„ï¼Œå› æ­¤é€‚åˆä¸€äº›æ”¶å°¾å·¥ä½œ                   |
| å¹¿åº¦ä¼˜å…ˆ | æŒ‰æ·±åº¦éå†   | <img src="https://pan.dongzx.lol/api/v4/file/content/7vXH1/0/Breadth-First.png?sign=LpiDf2P9tI1nfKXUROWkG-MySY98FL5R5yEEbhj3RM0%3D%3A0" width="100px" /> | æ·±åº¦ä¼˜å…ˆä¸€èˆ¬ç”¨é˜Ÿåˆ—å®ç°ï¼Œç”¨æ ˆä¹Ÿè¡Œï¼Œå…³é”®æ˜¯è¦è®°å½•æ¯å±‚çš„éå†ä»»åŠ¡å³å¯             |

## ç®—æ³•æ¨¡æ¿

### æ·±åº¦ä¼˜å…ˆæœç´¢ Depth-First Search (DFS)

#### é€’å½’

æ·±åº¦ä¼˜å…ˆçš„ç®—æ³•ä½¿ç”¨é€’å½’æœ‰ç€æå…¶ç®€æ´çš„ä»£ç ç»“æ„ï¼Œå¦‚ä¸‹ï¼Œåœ¨é€’å½’çš„å‰åç®€å•æ’å…¥é€»è¾‘å³å¯ã€‚

```TypeScript
const dfs = (node: TreeNode | null) => {
  if (!node) return;
  // åœ¨é€’å½’ä¹‹å‰çš„éƒ½å±äºå‰åº
  dfs(node.left);
  // éå†å®Œå·¦èŠ‚ç‚¹åçš„å±äºä¸­åº
  dfs(node.right);
  // å·¦å³èŠ‚ç‚¹éå†å®Œæ˜¯ååº
};
```

<p class="codepen" data-height="500" data-default-tab="js,result" data-slug-hash="XWQjdQe" data-user="enjoy7ech" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/enjoy7ech/pen/XWQjdQe">
  DFS-Recursion</a> by enjoy7ech (<a href="https://codepen.io/enjoy7ech">@enjoy7ech</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

#### å¾ªç¯

##### å‰åºéå†

ä½¿ç”¨å¾ªç¯å®ç°å‰åºéå†éœ€è¦å€ŸåŠ©æ ˆï¼Œåœ¨æ¯æ¬¡å¾ªç¯ä¾æ¬¡å‹å…¥å³èŠ‚ç‚¹ï¼Œå·¦èŠ‚ç‚¹ï¼Œæ¯æ¬¡å¾ªç¯ä¼˜å…ˆå‡ºæ ˆçš„å°±æ˜¯å·¦èŠ‚ç‚¹äº†ï¼Œä¹Ÿå°±æ˜¯å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚

```TypeScript
const preOrder: number[] = []
const dfsPreWithLoop = (node: TreeNode) => {
    // å…ˆå‹å…¥æ ¹èŠ‚ç‚¹å¼€å¯å¾ªç¯
    const stack: TreeNode[] = [node]
    while(stack.length){
        const item = stack.pop()
        // æ‰§è¡Œå‰åºé€»è¾‘
        preOrder.push(item.val)

        if(item.right) stack.push(item.right)
        if(item.left) stack.push(item.left)
    }
};
```

<p class="codepen" data-height="500" data-default-tab="js,result" data-slug-hash="bGJwedE" data-user="enjoy7ech" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/enjoy7ech/pen/bGJwedE">
  DFS-Loop</a> by enjoy7ech (<a href="https://codepen.io/enjoy7ech">@enjoy7ech</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

##### ä¸­åºéå†

ä¸­åºéå†æ¯”è¾ƒå¤æ‚ï¼Œä¾ç„¶éœ€è¦ä½¿ç”¨æ ˆã€‚å› ä¸ºä¸­åºéå†éœ€è¦å…ˆå…¨éƒ¨è·å–å·¦å­æ ‘ï¼Œå› æ­¤å¾ªç¯ä½“è®¾è®¡å¦‚ä¸‹

1. ç¬¬ä¸€æ­¥æ˜¯æŠŠå½“å‰æ ¹èŠ‚ç‚¹ä¸å·¦èŠ‚ç‚¹ä¸€ç›´å‹æ ˆåˆ°å¶å­èŠ‚ç‚¹
2. ç„¶åå‡ºæ ˆä¾¿å®ç°äº†å·¦->æ ¹çš„éå†
3. ç„¶åæŠŠå³èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œé‡å¤ 1.ã€‚æ²¡æœ‰åˆ™éœ€è¦è·³è¿‡ 1.

éœ€è¦æ³¨æ„çš„æ˜¯å¾ªç¯çš„é€€å‡ºæ¡ä»¶ï¼Œæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„æ˜¯æ ˆæ˜¯å¦ä¸ºç©ºï¼Œä½†æ˜¯æ•´ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹åœ¨æ‰§è¡Œ 3.çš„æ—¶å€™æ ˆæ˜¯ç©ºçš„ï¼Œå› æ­¤è¿˜è¦åˆ¤æ–­è¿˜è¦åŠ ä¸ª`æˆ–è€…å½“å‰æ ¹èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨`ï¼Œå­˜åœ¨åˆ™éœ€è¦ç»§ç»­å‹å…¥æ ¹èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ã€‚

```TypeScript
const midOrder: number[] = [];
const dfsMidWithLoop = (node: TreeNode) => {
  let p: TreeNode | null = node,
    stack: TreeNode[] = [];
  while (p || stack.length) {
    while (p) {
      stack.push(p);
      p = p.left;
    }
    const node = stack.pop();
    midOrder.push(node.val);
    if (node.right) p = node.right;
  }
};
```

<p class="codepen" data-height="500" data-default-tab="js,result" data-slug-hash="bGJwedE" data-user="enjoy7ech" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/enjoy7ech/pen/bGJwedE">
  DFS-Loop</a> by enjoy7ech (<a href="https://codepen.io/enjoy7ech">@enjoy7ech</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

##### ååºéå†

ååºéå†éœ€è¦çš„å‹æ ˆé¡ºåºåˆ™æ˜¯æ ¹å³å·¦ï¼Œéœ€è¦ä¿è¯åœ¨å·¦å³èŠ‚ç‚¹éƒ½è®¿é—®è¿‡äº†åœ¨è®¿é—®æ ¹èŠ‚ç‚¹ã€‚åˆ™å¯ä»¥ç”¨å“ˆå¸Œè¡¨è®°å½•ä¸‹å½“å‰èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡ï¼Œåªæœ‰è¢«è®¿é—®è¿‡äº†æ‰å¯ä»¥å‡ºæ ˆã€‚å¾ªç¯ç»“æ„å¦‚ä¸‹

1. å‡ºæ ˆå…ƒç´ ï¼Œå¦‚æœå½“å‰å…ƒç´ è¢«è®¿é—®è¿‡åˆ™è¿›å…¥ååºéå†çš„é€»è¾‘ï¼Œæ²¡è®¿é—®è¿‡åˆ™æ ‡è®°ä¸ºè®¿é—®è¿‡å†å…¥æ ˆã€‚
2. ä¾æ¬¡å…¥æ ˆå½“å‰å…ƒç´ çš„å³å·¦èŠ‚ç‚¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚é‡å¤ 1.

éœ€è¦æ³¨æ„çš„æ˜¯ä¸ºäº†å¯åŠ¨å¾ªç¯ï¼Œéœ€è¦æŠŠæ ‘çš„æ ¹èŠ‚ç‚¹æå‰å‹æ ˆã€‚

```TypeScript
const sufOrder: number[] = [];
const dfsSufWithLoop = (node: TreeNode) => {
  let visited = new Map<TreeNode, boolean>(),
    stack: TreeNode[] = [node];
  while (stack.length) {
    const node = stack.pop()!;

    if (visited.has(node)) {
      sufOrder.push(node.val);
    } else {
      stack.push(node);
      visited.set(node, true);
      if (node.right) stack.push(node.right);
      if (node.left) stack.push(node.left);
    }
  }
};
```

<p class="codepen" data-height="500" data-default-tab="js,result" data-slug-hash="bGJwedE" data-user="enjoy7ech" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/enjoy7ech/pen/bGJwedE">
  DFS-Loop</a> by enjoy7ech (<a href="https://codepen.io/enjoy7ech">@enjoy7ech</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

### å¹¿åº¦ä¼˜å…ˆæœç´¢ Breadth-First-Search (BFS)

#### é˜Ÿåˆ—

æåˆ°å¹¿åº¦ä¼˜å…ˆé€šå¸¸ç¬¬ä¸€ååº”å°±æ˜¯é˜Ÿåˆ—ï¼Œå…¶å®æ˜¯ä¸ºäº†å±‚åºçš„ä»å·¦åˆ°å³ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯å¾ªç¯æ¯å±‚çš„èŠ‚ç‚¹å¹¶æ‰¾åˆ°ä¸‹å±‚èŠ‚ç‚¹ç”¨äºä¸‹ä¸€æ¬¡å¾ªç¯ã€‚`å› æ­¤ä½¿ç”¨ä¸¤ä¸ªæ ˆå¯ä»¥å®ç°å±‚åºä»å³å¾€å·¦çš„éå†`ã€‚

```TypeScript
const order: number[] = [];
const bfs = (node: TreeNode) => {
  const queue: TreeNode[] = [node];
  while (queue.length) {
    let len = queue.length;
    while (len--) {
      const item = queue.shift();
      order.push(item.val);
      if (item.left) queue.push(item.left);
      if (item.right) queue.push(item.right);
    }
  }
};
```

<p class="codepen" data-height="500" data-default-tab="js,result" data-slug-hash="rNbMyao" data-user="enjoy7ech" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/enjoy7ech/pen/rNbMyao">
  BFS</a> by enjoy7ech (<a href="https://codepen.io/enjoy7ech">@enjoy7ech</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

## Binary Search Tree (BST)

äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯æ»¡è¶³æŸäº›æ¡ä»¶çš„ç‰¹æ®ŠäºŒå‰æ ‘ã€‚ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘ä¸Šçš„ç‚¹ï¼Œéƒ½å¿…é¡»å°äºå½“å‰èŠ‚ç‚¹ã€‚ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„å³å­æ ‘ä¸Šçš„ç‚¹ï¼Œéƒ½å¿…é¡»å¤§äºå½“å‰èŠ‚ç‚¹ã€‚ä»»ä½•ä¸€æ£µå­æ ‘ï¼Œä¹Ÿéƒ½æ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ã€‚å¦å¤–äºŒå‰æŸ¥æ‰¾æ ‘ä¸­ï¼Œæ˜¯ä¸å­˜åœ¨é‡å¤èŠ‚ç‚¹çš„ã€‚

äºŒå‰æœç´¢æ ‘ä¸Šçš„åŸºæœ¬æ“ä½œæ‰€èŠ±è´¹çš„æ—¶é—´ä¸è¿™æ£µæ ‘çš„é«˜åº¦æˆæ­£æ¯”ã€‚å¯¹äºä¸€ä¸ªæœ‰ n ä¸ªç»“ç‚¹çš„äºŒå‰æœç´¢æ ‘ä¸­ï¼Œè¿™äº›æ“ä½œçš„æœ€ä¼˜æ—¶é—´å¤æ‚åº¦ä¸º{% katex %}O(log n){% endkatex %}ï¼Œæœ€åä¸º {% katex %}O(n){% endkatex %}ã€‚éšæœºæ„é€ è¿™æ ·ä¸€æ£µäºŒå‰æœç´¢æ ‘çš„æœŸæœ›é«˜åº¦ä¸º{% katex %}O(log n){% endkatex %}ã€‚

### æœç´¢

ç”±äº BST çš„ç‰¹æ®Šæ€§è´¨ï¼ŒæŸ¥æ‰¾å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º{% katex %}O(h){% endkatex %}ã€‚

### æ’å…¥

ç”±äº BST çš„ç‰¹æ®Šæ€§è´¨ï¼Œæ’å…¥å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º{% katex %}O(h){% endkatex %}ã€‚

### åˆ é™¤

åˆ é™¤åˆ†å‡ ç§æƒ…å†µï¼š

1. åˆ é™¤çš„æ˜¯å¶å­èŠ‚ç‚¹ï¼Œç›´æ¥åˆ é™¤ã€‚
2. åˆ é™¤çš„æ˜¯é“¾èŠ‚ç‚¹ï¼ˆåªæœ‰å·¦æˆ–è€…å³èŠ‚ç‚¹ï¼‰ï¼Œå­æ ‘ç›´æ¥æ›¿ä»£è¢«åˆ èŠ‚ç‚¹ã€‚
3. åˆ é™¤çš„æ˜¯æ­£å¸¸èŠ‚ç‚¹ï¼Œä½¿ç”¨å‰é©±ï¼ˆå·¦å­æ ‘çš„æœ€å¤§èŠ‚ç‚¹ï¼‰æˆ–è€…åé©±ï¼ˆå³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼‰æ›¿ä»£è¢«åˆ èŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤è¯¥èŠ‚ç‚¹ã€‚ç”±äºå‰é©±èŠ‚ç‚¹æˆ–åé©±èŠ‚ç‚¹è‚¯å®šæ˜¯é“¾èŠ‚ç‚¹`å‰é©±çš„å³èŠ‚ç‚¹å¿…ç„¶ä¸ºç©ºï¼Œå¦åˆ™å…¶å³èŠ‚ç‚¹æ‰æ˜¯å‰é©±ã€‚åŒç†åé©±`ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥èµ° 2.

> åˆ·ä¸ªé¢˜ï¼š [450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹](https://leetcode.cn/problems/delete-node-in-a-bst)

```TypeScript
// ç”±äºéœ€è¦åˆ é™¤èŠ‚ç‚¹ï¼Œæˆ‘å–œæ¬¢é€’å½’çˆ¶èŠ‚ç‚¹ä¸åˆ°å½“å‰èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œè¿™æ ·åˆ é™¤ç›´æ¥ä¿®æ”¹ç´¢å¼•å³å¯å®Œæˆåˆ é™¤ã€‚
const deleteInBST = (root: TreeNode, key: number) => {
  const dfs = (
    father: { [key: string]: TreeNode } | TreeNode,
    index: string
  ) => {
    const node = father[index];
    if (!node) return;
    // æ‰¾åˆ°äº†éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹
    if (key === node.val) {
      if (node.left && node.right) {
        // å·¦å³æ ‘éƒ½å­˜åœ¨ï¼Œå¯»æ‰¾åé©±ï¼Œç”±äºéœ€è¦åˆ é™¤åé©±èŠ‚ç‚¹ï¼Œè¿˜æ˜¯é‡‡ç”¨ä¿å­˜ç´¢å¼•çš„æ–¹å¼ã€‚
        let sufLink: [TreeNode, string] = [node, "right"];
        while (sufLink[0][sufLink[1]].left) {
          sufLink[0] = sufLink[0][sufLink[1]];
          sufLink[1] = "left";
        }
        // è¢«åˆ èŠ‚ç‚¹æ›¿æ¢ä¸ºåé©±èŠ‚ç‚¹
        node.val = sufLink[0][sufLink[1]].val;
        // åˆ é™¤åé©±èŠ‚ç‚¹ï¼Œç”±äºæ˜¯é“¾èŠ‚ç‚¹ï¼Œç›´æ¥æ›¿æ¢æˆå­æ ‘å³å¯
        sufLink[0][sufLink[1]] = sufLink[0][sufLink[1]].right;
      } else if (node.left || node.right) {
        //é“¾èŠ‚ç‚¹
        father[index] = node.left || node.right;
      } else {
        // å¶å­èŠ‚ç‚¹
        father[index] = null;
      }
    }
    if (key < node.val) dfs(node, "left");
    if (key > node.val) dfs(node, "right");
  };
  const warp = { root };
  dfs(warp, "root");
  return warp.root;
};

```

è¿˜æœ‰ä¸€ç§æ¯”è¾ƒæ–¹ä¾¿çš„åˆ é™¤æ–¹å¼ï¼Œå°±æ˜¯æŠŠå½“å‰èŠ‚ç‚¹åˆ äº†ï¼Œæ›¿æ¢ä¸ºå³å­æ ‘ï¼Œå·¦å­æ ‘æŒ‚åˆ°åé©±èŠ‚ç‚¹çš„å·¦ä¾§ã€‚ä½†æ˜¯è¿™æ ·å¯èƒ½ä¼šå¢åŠ æ ‘çš„é«˜åº¦ï¼Œå¯¹äº BST æ¥è¯´æ˜¯ä¸åˆ©çš„ã€‚

<p class="codepen" data-height="500" data-default-tab="result" data-slug-hash="qBwaJvx" data-user="enjoy7ech" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/enjoy7ech/pen/qBwaJvx">
  BST</a> by enjoy7ech (<a href="https://codepen.io/enjoy7ech">@enjoy7ech</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

### AVL æ ‘

æ”¾äº†é˜²æ­¢ BST çš„é€€åŒ–ï¼ˆå˜æˆé“¾è¡¨ï¼‰ï¼Œäº§ç”Ÿäº† AVL æ ‘ï¼ŒAVL æ ‘æ˜¯ä¸€ç§å¹³è¡¡äºŒå‰æ ‘`ä¸ºä»€ä¹ˆä¸è¯´å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæˆ‘æƒ³æ˜¯å› ä¸ºåšå¹³è¡¡å°±æ˜¯ä¸ºäº†æŸ¥æ‰¾çš„ï¼Œä¸æ˜¯ BST è¿˜åšä»€ä¹ˆå¹³è¡¡ ğŸ¤ªğŸ¤ª`ï¼Œå¾—åäºå…¶å‘æ˜è€…çš„åå­—ï¼ˆ Adelson-Velsky ä»¥åŠ Landisï¼‰ã€‚å…¶å¿…é¡»æ»¡è¶³ä»¥ä¸‹æ¡ä»¶

1. å·¦å³å­æ ‘çš„é«˜åº¦å·®å°äºç­‰äº 1ã€‚
2. å…¶æ¯ä¸€ä¸ªå­æ ‘å‡ä¸ºå¹³è¡¡äºŒå‰æ ‘ã€‚
3. æ˜¯ä¸€ä¸ª BSTã€‚

> åˆ·ä¸ªé¢˜ï¼š[110. å¹³è¡¡äºŒå‰æ ‘](https://leetcode.cn/problems/balanced-binary-tree)

ä¸ºäº†ä¿è¯äºŒå‰æ ‘çš„å¹³è¡¡ï¼Œ AVL æ ‘å¼•å…¥äº†æ‰€è°“ç›‘ç£æœºåˆ¶ï¼Œå°±æ˜¯åœ¨æ ‘çš„æŸä¸€éƒ¨åˆ†çš„ä¸å¹³è¡¡åº¦è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼åè§¦å‘ç›¸åº”çš„å¹³è¡¡æ“ä½œã€‚ä¿è¯æ ‘çš„å¹³è¡¡åº¦åœ¨å¯ä»¥æ¥å—çš„èŒƒå›´å†…ã€‚å…·ä½“å°±æ˜¯åœ¨æ¯ä¸ªèŠ‚ç‚¹åŠ å…¥ä¸€ä¸ªæŒ‡æ ‡ï¼š`å¹³è¡¡å› å­ï¼ˆBalance Factorï¼‰`ï¼Œå³`æŸä¸ªç»“ç‚¹çš„å·¦å­æ ‘çš„é«˜åº¦å‡å»å³å­æ ‘çš„é«˜åº¦å¾—åˆ°çš„å·®å€¼`ã€‚

#### æ ‘çš„å¹³è¡¡æ“ä½œ

AVL æ ‘çš„å¹³è¡¡æ–¹æ³•æœ‰ä¸¤ç§ï¼Œå·¦æ—‹ä¸å³æ—‹ã€‚

å·¦æ—‹å³æ˜¯æ•´ä¸ªæ ‘å¾€å·¦æ—‹è½¬ï¼Œæ ¹èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä½œä¸ºæ–°çš„æ ¹èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼ˆæ ¹æ® BST å¯çŸ¥ï¼Œæ ¹èŠ‚ç‚¹<è¯¥å­æ ‘æ‰€æœ‰å€¼<å³èŠ‚ç‚¹ï¼‰æŒ‚åˆ°åŸæ ¹èŠ‚ç‚¹çš„å³ç´¢å¼•ä¸Šã€‚åªæ˜¯ä¸€ä¸ªå­æ ‘åœ¨ä¸€ä¸ªåŒºé—´ä¸Šæ¢äº†ä¸ªæ–¹å‘æŒ‚åœ¨åŒºé—´çš„å¦ä¸€ä¾§äº†ï¼Œå› æ­¤æ•´ä¸ªæ ‘çš„ BST æ€§è´¨ä¸ä¼šäº§ç”Ÿå˜åŒ–ã€‚åŒç†å³æ—‹ã€‚

`ä¸ºä»€ä¹ˆæ—‹è½¬æ ‘å¯ä»¥é‡æ–°å˜æˆå¹³è¡¡äºŒå‰æ ‘å‘¢ï¼Ÿ`

ç”±äºæ’å…¥æˆ–åˆ é™¤æ ‘èŠ‚ç‚¹æ‰ä¼šå¯¼è‡´ AVL å¤±å»å¹³è¡¡ã€‚æ‰€ä»¥åˆ†ä¸º`éœ€è¦å¹³è¡¡çš„å››ç§æƒ…å†µï¼Œè¿™äº›æƒ…å†µåªæ˜¯æœ€å°å±€éƒ¨å›¾ï¼Œå¹¶ä¸æ˜¯æ ‘çš„å…¨è²Œ`:

1. LL å‹ã€RR å‹
   ![ç”±äºæ’å…¥å·¦å­©å­çš„å·¦å­æ ‘ä¸Šï¼Œå¯¼è‡´æ ¹èŠ‚ç‚¹å¤±è¡¡ï¼Œåªéœ€è¦å³æ—‹ä¸€æ¬¡å³å¯ï¼ŒåŒç† RRã€‚](https://pan.dongzx.lol/api/v4/file/content/RE8uM/0/v2-58c02894bce9e580481c075efc35f226_720w.png?sign=ScOBR6lbt4RBEqhAiMlzvb7nkiFF9VDeQyZ057nZ_ck%3D%3A0)

2. LR å‹ã€RL å‹
   ![ç”±äºæ’å…¥å·¦å­©å­çš„å³å­æ ‘ä¸Šï¼Œå¯¼è‡´æ ¹èŠ‚ç‚¹å¤±è¡¡ï¼Œéœ€è¦çš„æ˜¯å…ˆå¯¹ i è¿›è¡Œä¸€æ¬¡å·¦æ—‹å†å¯¹ n è¿›è¡Œä¸€æ¬¡å³æ—‹ã€‚](https://pan.dongzx.lol/api/v4/file/content/8AKC3/0/v2-acc2de5f4d30d41a6b39b0c5a9b2dbbe_720w.png?sign=vjOkYKKo0x1hzU8x0154Lm6Tl1cg1gx_kE2G7dT72LM%3D%3A0)

## æ‰©å±•

### B-tree

B æ ‘ï¼ˆè‹±è¯­ï¼šB-treeï¼‰`ä¸æ˜¯ä¸Šé¢çš„äºŒå‰æ ‘`ï¼Œæ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„æ ‘ï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åºã€‚è¿™ç§æ•°æ®ç»“æ„èƒ½å¤Ÿè®©æŸ¥æ‰¾æ•°æ®ã€é¡ºåºè®¿é—®ã€æ’å…¥æ•°æ®åŠåˆ é™¤çš„åŠ¨ä½œï¼Œéƒ½åœ¨å¯¹æ•°æ—¶é—´å†…å®Œæˆã€‚

æ ¹æ® Knuth çš„å®šä¹‰ï¼Œä¸€ä¸ª m é˜¶çš„ B æ ‘æ˜¯ä¸€ä¸ªæœ‰ä»¥ä¸‹å±æ€§çš„æ ‘ï¼š

1. æ¯ä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ m ä¸ªå­èŠ‚ç‚¹
2. æ¯ä¸€ä¸ªéå¶å­èŠ‚ç‚¹ï¼ˆé™¤æ ¹èŠ‚ç‚¹ï¼‰æœ€å°‘æœ‰ âŒˆm/2âŒ‰ ä¸ªå­èŠ‚ç‚¹
3. å¦‚æœæ ¹èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒè‡³å°‘æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹
4. æœ‰ k ä¸ªå­èŠ‚ç‚¹çš„éå¶å­èŠ‚ç‚¹æ‹¥æœ‰ k âˆ’ 1 ä¸ªé”®
5. æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚

é€šå¸¸è¯´ B æ ‘éƒ½æ˜¯æŒ‡ä»£ä¸€ç§ç±»å‹çš„æ ‘ã€‚è€Œå½“å’Œ B+æ ‘ä¹‹ç±»çš„å˜ä½“æ¯”è¾ƒæ—¶ï¼Œï¼¢æ ‘åˆ™ä»£è¡¨äº†æœ€åŸåˆçš„å®ç°ï¼š`åœ¨å®ƒå†…éƒ¨èŠ‚ç‚¹ä¸­å­˜å‚¨é”®å€¼ï¼Œä½†ä¸éœ€åœ¨å¶å­èŠ‚ç‚¹ä¸Šå­˜å‚¨è¿™äº›é”®å€¼çš„è®°å½•`ã€‚

B æ ‘å’Œ AVL æ ‘çš„ä¸åŒä¹‹å¤„æ˜¯ï¼š

1. B æ ‘å±äºå¤šå‰æ ‘åˆåå¹³è¡¡å¤šè·¯æŸ¥æ‰¾æ ‘ï¼ˆæŸ¥æ‰¾è·¯å¾„ä¸æ­¢ä¸¤ä¸ªï¼‰
2. ç»´æŠ¤å¹³è¡¡çš„æ–¹å¼ä¸åŒï¼ŒB-Tree çš„å¹³è¡¡æ€§æ˜¯é€šè¿‡åœ¨æ’å…¥æ—¶è¿›è¡Œ`èŠ‚ç‚¹åˆ†è£‚`æ¥ç»´æŠ¤çš„

![æ’å…¥7çš„æ—¶å€™ï¼Œå¶å­èŠ‚ç‚¹å˜ä¸º567ï¼Œè¿›è¡Œåˆ†è£‚ï¼Œä¸­ä½æ•°6å˜æˆæ–°çš„çˆ¶èŠ‚ç‚¹æ’å…¥åŸçˆ¶èŠ‚ç‚¹24ï¼ŒåŸçˆ¶èŠ‚ç‚¹å˜æˆ246å†è¿›è¡Œåˆ†è£‚ï¼Œä¸­ä½æ•°4å˜æˆæ–°çš„çˆ¶èŠ‚ç‚¹](https://pan.dongzx.lol/api/v4/file/content/0y9Tl/0/B_tree_insertion_example.png?sign=_57J_b33jixxnp0sCMpiDfARmYb2N-BzFhYNoJhKUBU%3D%3A0)

å°†æ–°å…ƒç´ æ’å…¥åˆ°è¿™ä¸€èŠ‚ç‚¹ä¸­çš„æ­¥éª¤å¦‚ä¸‹ï¼š

1. å¦‚æœèŠ‚ç‚¹æ‹¥æœ‰çš„å…ƒç´ æ•°é‡å°äºæœ€å¤§å€¼ï¼Œé‚£ä¹ˆæœ‰ç©ºé—´å®¹çº³æ–°çš„å…ƒç´ ã€‚å°†æ–°å…ƒç´ æ’å…¥åˆ°è¿™ä¸€èŠ‚ç‚¹ï¼Œä¸”ä¿æŒèŠ‚ç‚¹ä¸­å…ƒç´ æœ‰åºã€‚
2. å¦åˆ™çš„è¯è¿™ä¸€èŠ‚ç‚¹å·²ç»æ»¡äº†ï¼Œå°†å®ƒå¹³å‡åœ°åˆ†è£‚æˆä¸¤ä¸ªèŠ‚ç‚¹ï¼š
   1. ä»è¯¥èŠ‚ç‚¹çš„åŸæœ‰å…ƒç´ å’Œæ–°çš„å…ƒç´ ä¸­é€‰æ‹©å‡ºä¸­ä½æ•°
   2. å°äºè¿™ä¸€ä¸­ä½æ•°çš„å…ƒç´ æ”¾å…¥å·¦è¾¹èŠ‚ç‚¹ï¼Œå¤§äºè¿™ä¸€ä¸­ä½æ•°çš„å…ƒç´ æ”¾å…¥å³è¾¹èŠ‚ç‚¹ï¼Œä¸­ä½æ•°ä½œä¸ºåˆ†éš”å€¼ã€‚
   3. åˆ†éš”å€¼è¢«æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹ä¸­ï¼Œè¿™å¯èƒ½ä¼šé€ æˆçˆ¶èŠ‚ç‚¹åˆ†è£‚ï¼Œåˆ†è£‚çˆ¶èŠ‚ç‚¹æ—¶å¯èƒ½åˆä¼šä½¿å®ƒçš„çˆ¶èŠ‚ç‚¹åˆ†è£‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚æœæ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼ˆè¿™ä¸€èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼‰ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°çš„æ ¹èŠ‚ç‚¹ï¼ˆå¢åŠ äº†æ ‘çš„é«˜åº¦ï¼‰ã€‚

### 2â€“3â€“4 tree

2-3-4 æ ‘ï¼ˆè‹±è¯­ï¼š2â€“3â€“4 treeï¼‰åœ¨è®¡ç®—æœºç§‘å­¦ä¸­æ˜¯é˜¶ä¸º 4 çš„ B æ ‘ã€‚2-3-4 æ ‘æŠŠæ•°æ®å­˜å‚¨åœ¨å«åšå…ƒç´ çš„å•ç‹¬å•å…ƒä¸­ã€‚å®ƒä»¬ç»„åˆæˆèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸‹åˆ—ä¹‹ä¸€ï¼š

1. 2-èŠ‚ç‚¹ï¼Œå°±æ˜¯è¯´ï¼Œå®ƒåŒ…å« 1 ä¸ªå…ƒç´ å’Œ 2 ä¸ªå­èŠ‚ç‚¹
2. 3-èŠ‚ç‚¹ï¼Œå°±æ˜¯è¯´ï¼Œå®ƒåŒ…å« 2 ä¸ªå…ƒç´ å’Œ 3 ä¸ªå­èŠ‚ç‚¹
3. 4-èŠ‚ç‚¹ï¼Œå°±æ˜¯è¯´ï¼Œå®ƒåŒ…å« 3 ä¸ªå…ƒç´ å’Œ 4 ä¸ªå­èŠ‚ç‚¹

### Redâ€“black tree

çº¢é»‘æ ‘ï¼ˆè‹±è¯­ï¼šRedâ€“black treeï¼‰æ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½å¸¦æœ‰é¢œè‰²å±æ€§çš„`äºŒå‰æŸ¥æ‰¾æ ‘ (BST)`ï¼Œé¢œè‰²ä¸ºçº¢è‰²æˆ–é»‘è‰²ã€‚åœ¨äºŒå‰æŸ¥æ‰¾æ ‘å¼ºåˆ¶ä¸€èˆ¬è¦æ±‚ä»¥å¤–ï¼Œå¯¹äºä»»ä½•æœ‰æ•ˆçš„çº¢é»‘æ ‘å¢åŠ äº†å¦‚ä¸‹çš„é¢å¤–è¦æ±‚ï¼š

1. èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚
2. æ ¹æ˜¯é»‘è‰²ã€‚
3. æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ï¼ˆå¶å­æ˜¯ NIL èŠ‚ç‚¹ï¼‰ã€‚
4. æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹ã€‚ï¼ˆæˆ–è€…è¯´ä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ã€‚ï¼‰ï¼ˆæˆ–è€…è¯´ä¸å­˜åœ¨ä¸¤ä¸ªç›¸é‚»çš„çº¢è‰²èŠ‚ç‚¹ï¼Œç›¸é‚»æŒ‡ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯çˆ¶å­å…³ç³»ã€‚ï¼‰ï¼ˆæˆ–è€…è¯´çº¢è‰²èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹å‡æ˜¯é»‘è‰²çš„ã€‚ï¼‰
5. ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚

### B+æ ‘

B+æ ‘æ˜¯åœ¨ B æ ‘çš„åŸºç¡€ä¸Šåˆä¸€æ¬¡çš„æ”¹è¿›ï¼Œå…¶ä¸»è¦å¯¹ä¸¤ä¸ªæ–¹é¢è¿›è¡Œäº†æå‡ï¼Œä¸€æ–¹é¢æ˜¯æŸ¥è¯¢çš„ç¨³å®šæ€§ï¼Œå¦å¤–ä¸€æ–¹é¢æ˜¯åœ¨æ•°æ®æ’åºæ–¹é¢æ›´å‹å¥½ã€‚åŒºåˆ«ä¸»è¦åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

1. B æ ‘çš„èŠ‚ç‚¹(æ ¹èŠ‚ç‚¹/çˆ¶èŠ‚ç‚¹/ä¸­é—´èŠ‚ç‚¹/å¶å­èŠ‚ç‚¹)ä¸­æ²¡æœ‰é‡å¤å…ƒç´ ï¼ŒB+æ ‘æœ‰ã€‚
2. B æ ‘çš„ä¸­é—´èŠ‚ç‚¹ä¼šå­˜å‚¨æ•°æ®æŒ‡é’ˆä¿¡æ¯ï¼Œè€Œ B+æ ‘åªæœ‰å¶å­èŠ‚ç‚¹æ‰å­˜å‚¨ã€‚
   B+æ ‘éå¶å­èŠ‚ç‚¹ä»…å­˜å‚¨æŒ‡é’ˆä¸å­˜å‚¨æ•°æ®ï¼Œè¿™æ ·ä¸€ä¸ªèŠ‚ç‚¹å°±å¯ä»¥å­˜å‚¨æ›´å¤šçš„æŒ‡é’ˆï¼ˆè¿™é‡Œä¸ªäººç†è§£æ˜¯æ•°æ®çš„ç´¢å¼•æ¯”èŠ‚ç‚¹æŒ‡é’ˆå¤§ï¼‰ï¼Œå¯ä»¥ä½¿å¾— B+æ ‘ç›¸å¯¹ B æ ‘æ¥è¯´æ›´çŸ®ï¼Œæ‰€ä»¥æŸ¥è¯¢é€Ÿåº¦æ›´å¿«ã€‚
3. B+æ ‘çš„æ¯ä¸ªå¶å­èŠ‚ç‚¹æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠæ‰€æœ‰çš„å¶å­èŠ‚ç‚¹ä¸²åœ¨äº†ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚

-----

## 2024-05-21

### è¿˜åŸæ ‘ç®—æ³•

[105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/description/)
> ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ **preorder** å’Œ **inorder** ï¼Œå…¶ä¸­ preorder æ˜¯äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œ inorder æ˜¯åŒä¸€æ£µæ ‘çš„ä¸­åºéå†ï¼Œè¯·æ„é€ äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚

``` JavaScript
/**
 * Definition for a binary tree node.
 * function TreeNode(val, left, right) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.left = (left===undefined ? null : left)
 *     this.right = (right===undefined ? null : right)
 * }
 */
/**
 * @param {number[]} preorder
 * @param {number[]} inorder
 * @return {TreeNode}
 */
var buildTree = function (preorder, inorder) {
    let cur = 0
    const buildTree = (left, right) => {
        if (cur < 0 || cur >= preorder.length) return
        const inId = inorder.findIndex(o => o === preorder[cur])
        const node = new TreeNode(preorder[cur++])
        if (inId > left) {
            node.left = buildTree(left, inId - 1)
        }
        if (inId < right) {
            node.right = buildTree(inId + 1, right)
        }
        return node
    }
    return buildTree(0, preorder.length - 1)
};
```

è®°å½•é¢˜è§£: [ä¸»è¦æ˜¯å¾ªç¯çš„æ€è·¯æ¯”è¾ƒå¤æ‚](https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/solutions/255811/cong-qian-xu-yu-zhong-xu-bian-li-xu-lie-gou-zao-9)

## 2024-07-05

### äºŒå‰æ ‘çš„ç›´å¾„é—®é¢˜

> å®šä¹‰ï¼šäºŒå‰æ ‘çš„`ç›´å¾„`æ˜¯æŒ‡æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´`æœ€é•¿`è·¯å¾„çš„é•¿åº¦ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡ä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹rootã€‚
> ä¸¤èŠ‚ç‚¹ä¹‹é—´è·¯å¾„çš„é•¿åº¦ç”±å®ƒä»¬ä¹‹é—´`è¾¹æ•°`è¡¨ç¤ºã€‚

æ€è·¯å…¶å®å°±æ˜¯åœ¨ååºéå†æ—¶ï¼Œå·²çŸ¥å½“å‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘æ·±åº¦ï¼Œç›¸åŠ ä¾¿èƒ½å¾—åˆ°`è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æœ€é•¿é“¾`ï¼Œæœ€åå–æœ€å¤§å€¼ã€‚
`Q:` ä»¥æ‰€æœ‰èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æœ€é•¿é“¾è¦†ç›–çš„è§£ç©ºé—´ï¼Œæ˜¯å¦å¿…ç„¶åŒ…å«ç›´å¾„?
`A:` ç›´å¾„å¿…ç„¶ä¼šç»è¿‡ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå› æ­¤æ˜¯ä¸ªå……è¦æ¡ä»¶ã€‚

[543.äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode.cn/problems/diameter-of-binary-tree/description/)

```javascript
/**
 * Definition for a binary tree node.
 * function TreeNode(val, left, right) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.left = (left===undefined ? null : left)
 *     this.right = (right===undefined ? null : right)
 * }
 */
/**
 * @param {TreeNode} root
 * @return {number}
 */
var diameterOfBinaryTree = function (root) {
    let ans = 0
    const dfs = (node) => {
        if (!node) return 0
        const l = dfs(node.left)
        const r = dfs(node.right)
        ans = Math.max(ans, l + r)
        return Math.max(l, r) + 1
    }
    dfs(root)
    return ans
};
```

### äºŒå‰æ ‘ç»è¿‡ç‰¹å®šèŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„é—®é¢˜

å¦‚æœæŒ‡å®šä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ±‚ç»è¿‡è¯¥èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„å‘¢ï¼Ÿ

é—®é¢˜åº”è¯¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š

1. æ±‚è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘çš„æ·±åº¦ã€‚
2. åˆ é™¤è¯¥èŠ‚ç‚¹çš„å­©å­ï¼Œæ±‚ç»è¿‡è¯¥å¶å­èŠ‚ç‚¹çš„æœ€é•¿é“¾ã€‚

*å°æŠ€å·§*ï¼š

ç”±äºæ±‚è§£çš„æ˜¯å­æ ‘æ·±åº¦ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯ååºéå†ã€‚
åœ¨æœªéå†åˆ°ç›®æ ‡èŠ‚ç‚¹æ—¶ï¼Œdfsåˆ©ç”¨`è´Ÿæ•°`ä½œä¸ºé€’å½’è¿”å›å€¼åšèŠ‚ç‚¹æ·±åº¦ã€‚
åœ¨éå†åˆ°ç›®æ ‡èŠ‚ç‚¹æ—¶ï¼Œæ­¤æ—¶å¯ä»¥æ±‚è§£åˆ°`é—®é¢˜1çš„è§£`ï¼ˆè´Ÿæ•°è½¬æ­£ï¼‰ã€‚
æ­¤æ—¶ä¸å†è¿”å›è¯¥èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼‰çš„æ·±åº¦ï¼Œè€Œæ˜¯è¿›å…¥æ±‚è§£é—®é¢˜2çš„æµç¨‹ï¼Œå‡è®¾å·²ç»åˆ é™¤è¯¥èŠ‚ç‚¹çš„å­©å­ï¼Œå¹¶è¿”å›`æ­£æ•°æ·±åº¦1`ã€‚
å› æ­¤ï¼Œé€’å½’åœ¨è¿”å›æ—¶éœ€è¦åˆ¤æ–­å·¦å­©å­æ·±åº¦ä¸æœ‰å­©å­æ·±åº¦æ˜¯å¦æœ‰æ­£æ•°ï¼Œæœ‰æ­£æ•°è¯´æ˜ç›®æ ‡èŠ‚ç‚¹åœ¨æ­£æ•°å­æ ‘é‚£ä¸€ä¾§ã€‚å¹¶ä¸”åœ¨è¿”å›ä¹‹å‰æ›´æ–°æœ€ç»ˆè§£ï¼Œä¹Ÿå°±æ˜¯ï¼šé—®é¢˜1çš„è§£+å·¦å­æ ‘æ·±åº¦çš„ç»å¯¹å€¼+å³å­æ ‘æ·±åº¦çš„ç»å¯¹å€¼ï¼ˆå› ä¸ºæœ‰å¯èƒ½æœ‰è´Ÿæ•°æ·±åº¦ï¼‰ã€‚

ç•™ä¸€é“å˜ç§é¢˜ã€‚[2385. æ„ŸæŸ“äºŒå‰æ ‘éœ€è¦çš„æ€»æ—¶é—´](https://leetcode.cn/problems/amount-of-time-for-binary-tree-to-be-infected/description/)
